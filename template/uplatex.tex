\documentclass[a4paper, papersize, nosetpagesize, uplatex, dvipdfmx]{jsarticle}

\title{title}
\author{author}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{mathmacros}
\usepackage{thmtools}
\usepackage[dvipdfmx, setpagesize=false,%
bookmarks=true, bookmarksnumbered=true,%
bookmarksopen=true]{hyperref}
\usepackage{pxjahyper}
\usepackage{cleveref}

\usepackage[T1]{fontenc}
\usepackage{tgpagella}
\usepackage[scale=0.95]{tgheros}
\usepackage{tgcursor}
\usepackage[deluxe, uplatex]{otf}
\usepackage[bigdelims]{newpxmath}
\usepackage{bm}
% エラーの回避
\DeclareFontShape{JY2}{hmc}{b}{n}{<->ssub*hmc/bx/n}{}
\DeclareFontShape{JT2}{hmc}{b}{n}{<->ssub*hmc/bx/n}{}
\DeclareFontShape{JY2}{hgt}{b}{n}{<->ssub*gt/bx/n}{}
\DeclareFontShape{JT2}{hgt}{b}{n}{<->ssub*gt/bx/n}{}

% 書体を揃える
\renewcommand{\emph}[1]{\textbf{\textsf{\textgt{#1}}}}

\declaretheoremstyle[
  spaceabove=6pt, spacebelow=6pt,
  headfont=\bfseries\sffamily\gtfamily,
  notefont=\mdseries\sffamily\gtfamily,
  notebraces={（}{）},
  postheadspace=1em
]{definition}
\declaretheorem[title=定理, style=definition, parent=section]{theorem}
\declaretheorem[title=定義, style=definition, sibling=theorem]{definition}
\declaretheorem[title=補題, style=definition, sibling=theorem]{lemma}
\declaretheorem[title=系,   style=definition, sibling=theorem]{corollary}
\declaretheorem[title=命題, style=definition, sibling=theorem]{proposition}
\declaretheorem[title=注意, style=definition, sibling=theorem]{remark}
\declaretheorem[title=例,   style=definition, parent=section]{example}
\declaretheorem[title=問題, style=definition, parent=section]{question}
% proofの再定義
\declaretheoremstyle[
  spaceabove=6pt, spacebelow=6pt,
  headfont=\bfseries\sffamily\gtfamily,
  notefont=\mdseries\sffamily\gtfamily,
  notebraces={（}{）},
  postheadspace=1em,
  numbered=no,
  qed=$\blacksquare$
]{myproof}
\declaretheorem[title=証明, style=myproof]{myproof}
\renewenvironment{proof}{\begin{myproof}}{\end{myproof}}

% cleveref
\newcommand{\mycrefname}[2]{\crefname{#1}{#2}{#2}}
% theorem環境
\mycrefname{theorem}{定理}
\mycrefname{difinition}{定義}
\mycrefname{lemma}{補題}
\mycrefname{corollary}{系}
\mycrefname{proposition}{命題}
\mycrefname{remark}{注意}
\mycrefname{question}{問題}
\mycrefname{example}{例}
% それ以外
\mycrefname{figure}{図}
\mycrefname{equation}{式}
\crefname{page}{p.}{pp.}

% epsilon,phiの書体を変える
\renewcommand{\epsilon}{\varepsilon}
\renewcommand{\phi}{\varphi}

% enumerateの書式を変える
\renewcommand{\labelenumi}{(\arabic{enumi})}

% 数式番号にセクションの数を付ける
\numberwithin{equation}{section}

\begin{document}
\maketitle

\end{document}
